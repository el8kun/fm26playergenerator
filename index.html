<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Générateur FM26 - Multi-profils</title>
  <style>
    body { font-family: Inter, sans-serif; background: #0f172a; color: #e2e8f0; margin: 0; padding: 20px; }
    .container { max-width: 1000px; margin: auto; }
    h1 { text-align: center; margin-bottom: 20px; font-size: 28px; }
    .tabs { display: flex; gap: 10px; margin-bottom: 20px; }
    .tab { padding: 10px 16px; border-radius: 8px; background: #1e293b; cursor: pointer; }
    .tab.active { background: #3b82f6; }
    .card { background: #1e293b; padding: 20px; border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,.4); }
    label { display: block; margin-top: 12px; font-size: 14px; }
    input, select { width: 100%; padding: 8px; border-radius: 6px; border: none; margin-top: 5px; background: #0f172a; color: #e2e8f0; }
    button { margin-top: 15px; padding: 10px 16px; background: #3b82f6; color: white; border: none; border-radius: 8px; cursor: pointer; }
    pre { background: #0f172a; padding: 15px; border-radius: 8px; max-height: 400px; overflow-y: auto; margin-top: 20px; }
  </style>
</head>
<body>
<div class="container">
  <h1>Générateur de Joueurs FM26</h1>

  <div class="tabs">
    <div class="tab active" data-tab="classique">Générateur Classique</div>
    <div class="tab" data-tab="wonderkid">Wonderkid</div>
    <div class="tab" data-tab="regens">Regen Réaliste</div>
  </div>

  <div id="classique" class="card tab-content">
    <h2>Générateur Classique</h2>
    <label>Nom du joueur</label>
    <input id="name" value="Jean Dupont" />

    <label>Nationalité</label>
    <input id="nation" value="France" />

    <label>Âge</label>
    <input id="age" type="number" value="21" />

    <label>Poste</label>
    <select id="position">
      <option>Buteur (BU)</option>
      <option>Ailier (AD/AG)</option>
      <option>Milieu offensif (MOC)</option>
      <option>Milieu central (MC)</option>
      <option>Défenseur central (DC)</option>
      <option>Latéral (DG/DR)</option>
      <option>Gardien (GB)</option>
    </select>

    <label>Style du joueur</label>
    <select id="profile">
      <option>Équilibré</option>
      <option>Offensif</option>
      <option>Défensif</option>
      <option>Physique</option>
      <option>Rapide</option>
      <option>Technique</option>
    </select>

    <label>Aléatoire</label>
    <input id="randomness" type="range" min="0" max="100" value="30" />

    <button id="generate">Générer</button>
    <button id="copy">Copier le bloc</button>

    <pre id="output">Clique sur Générer pour obtenir le joueur.</pre>
  </div>

  <div id="wonderkid" class="card tab-content" style="display:none">
    <h2>Générateur Wonderkid (15-18 ans)</h2>
    <p>Attributs élevés, potentiel top joueur.</p>
  </div>

  <div id="regens" class="card tab-content" style="display:none">
    <h2>Générateur Regen Réaliste</h2>
    <p>Génération inspirée des regens FM : modestes, équilibrés, progression naturelle.</p>
  </div>

</div>

<script>
// gestion des tabs
document.querySelectorAll('.tab').forEach(tab => {
  tab.addEventListener('click', () => {
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    tab.classList.add('active');
    const target = tab.dataset.tab;
    document.querySelectorAll('.tab-content').forEach(c => c.style.display = 'none');
    document.getElementById(target).style.display = 'block';
  });
});

// ---------------------------------------------
// OUTILS FM26
// ---------------------------------------------
function randInt(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

function clampFM(v) {
  return Math.max(5, Math.min(15, Math.round(v)));
}

function enforceMax15(attrs) {
  let keys15 = Object.keys(attrs).filter(k => attrs[k] === 15);
  while (keys15.length > 3) {
    const k = keys15.pop();
    attrs[k] = 14;
  }
  return attrs;
}

// ---------------------------------------------
// PROFILS & POSTES (modèle FM26)
// ---------------------------------------------
const BASE_PROFILES = {
  "Équilibré": 10,
  "Offensif": 11,
  "Défensif": 10,
  "Physique": 11,
  "Rapide": 12,
  "Technique": 12
};

const POSITION_BONUS = {
  "Buteur (BU)": { "Finition": 2, "Sang-froid": 1 },
  "Ailier (AD/AG)": { "Vitesse": 2, "Accélération": 1 },
  "Milieu offensif (MOC)": { "Technique": 2, "Passes": 1 },
  "Milieu central (MC)": { "Passes": 1, "Décisions": 1 },
  "Défenseur central (DC)": { "Tacles": 2, "Placement": 1 },
  "Latéral (DG/DR)": { "Vitesse": 1, "Tacles": 1 },
  "Gardien (GB)": { "Placement": 1 }
};

// ---------------------------------------------
// GÉNÉRATION DU JOUEUR
// ---------------------------------------------
document.getElementById("generate").addEventListener("click", () => {

  let name = document.getElementById("name").value;
  let nat = document.getElementById("nation").value;
  let age = parseInt(document.getElementById("age").value);
  let pos = document.getElementById("position").value;
  let prof = document.getElementById("profile").value;

  let base = BASE_PROFILES[prof];

  let attrs = {
    "Finition": clampFM(base + randInt(-3, 3) + (POSITION_BONUS[pos]?.Finition || 0)),
    "Vitesse": clampFM(base + randInt(-3, 3) + (POSITION_BONUS[pos]?.Vitesse || 0)),
    "Accélération": clampFM(base + randInt(-3, 3) + (POSITION_BONUS[pos]?.Accélération || 0)),
    "Tacles": clampFM(base + randInt(-3, 3) + (POSITION_BONUS[pos]?.Tacles || 0)),
    "Passes": clampFM(base + randInt(-3, 3) + (POSITION_BONUS[pos]?.Passes || 0)),
    "Technique": clampFM(base + randInt(-3, 3) + (POSITION_BONUS[pos]?.Technique || 0)),
    "Décisions": clampFM(base + randInt(-3, 3) + (POSITION_BONUS[pos]?.Décisions || 0)),
    "Placement": clampFM(base + randInt(-3, 3) + (POSITION_BONUS[pos]?.Placement || 0)),
    "Sang-froid": clampFM(base + randInt(-3, 3) + (POSITION_BONUS[pos]?.SangFroid || 0))
  };

  attrs = enforceMax15(attrs);

  const potentiel = randInt(130, 200);

  let txt = `Nom : ${name}
Nationalité : ${nat}
Âge : ${age}
Poste : ${pos}
Profil : ${prof}

Potentiel : ${potentiel} / 200

Attributs :
`;

  for (const a in attrs) txt += `${a} : ${attrs[a]}\n`;

  document.getElementById("output").textContent = txt;
});

// COPIE
document.getElementById("copy").addEventListener("click", () => {
  navigator.clipboard.writeText(document.getElementById("output").textContent);
  alert("Copié !");
});
</script>

</body>
</html>
